/**
 * 设置页面样式变量
 * 使用CSS变量以支持深色模式
 */

// 这些SCSS变量用于计算和兼容性
$dark-gray: #3d3d3d;
$light-gray: var(--border-light);
$green: #4caf50;
$light-green: #79ac93;
$warn-yellow: #f8dd6b;
$light-red: #e19e97;
$blue: #0089ec;

// 布局变量（不随主题变化）
$wall-padding: 16px;
$options-wall-padding: 20px;
$options-width: 800px;

// 使用CSS变量的背景色
$background-color: var(--bg-primary);
$light-background-color: var(--bg-secondary);
$dark-background-color: var(--bg-tertiary);
$text-color: var(--text-primary);
$highlighted: var(--warning-light);

// ============================================
// 全局样式覆盖
// ============================================

// body背景
body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

// 导航栏
nav {
  background-color: var(--primary-color);
}

// 内容区域
.content-body {
  padding: 0px $options-wall-padding;
  background-color: var(--bg-primary);
}

// 段落文字
p {
  font-size: 14px;
  color: var(--text-primary);
}

// 按钮样式
a.btn, button.btn {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
  color: var(--text-inverse);
  border-radius: 10px;
  box-shadow: var(--shadow-md);
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg), var(--shadow-glow);
    opacity: 1;
  }

  &:active {
    transform: translateY(0);
    box-shadow: var(--shadow-sm);
  }
}

// 标题
h3 {
  margin: 1.6rem 0 0.8rem 0;
  color: var(--text-primary);
}

// 开关样式
.switch label input[type='checkbox']:checked + .lever {
  background-color: var(--success-color);

  &:after {
    background-color: var(--success-light);
  }
}

// 数据库管理器
.database-manager {
  background-color: var(--bg-secondary);
  border-radius: 16px;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-light);

  .error {
    font-size: 12px;
    color: var(--error-color);
  }

  svg {
    width: 18px;
    vertical-align: middle;
    fill: var(--primary-color);
  }

  .chip {
    height: 24px;
    line-height: 24px;
    font-size: 11px;
    margin-right: 4px;
    background: var(--bg-tertiary);
    color: var(--text-primary);
    border: 1px solid var(--border-light);
  }

  .description {
    font-size: 12px;
    color: var(--text-secondary);
  }

  .between {
    line-height: 36px;
    color: var(--text-primary);
  }
}

// box-bar样式（用于各种卡片和块）
.box-bar {
  background: var(--card-bg);
  border-radius: 16px;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-light);
  padding: 20px;
  margin-bottom: 16px;
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    box-shadow: var(--shadow-lg);
  }

  &.about {
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--card-bg) 100%);
  }

  &.roomy {
    padding: 24px;
  }

  &.small {
    padding: 12px 20px;
  }

  &.lighter {
    background: var(--bg-secondary);
    box-shadow: var(--shadow-sm);

    &:hover {
      box-shadow: var(--shadow-md);
    }
  }

  &.plain {
    background: transparent;
    box-shadow: none;
    border: none;
  }

  &.error {
    background: rgba(var(--error-rgb), 0.1);
    border-left: 4px solid var(--error-color);
    color: var(--error-color);
  }

  &.warn {
    background: rgba(var(--warning-rgb), 0.1);
    border-left: 4px solid var(--warning-color);
    color: #e65100;
  }

  &.success {
    background: rgba(var(--success-rgb), 0.1);
    border-left: 4px solid var(--success-color);
    color: #2e7d32;
  }

  p {
    color: var(--text-secondary);
    margin: 10px 0;
  }
}

// 解锁Logo样式
.unlockLogo {
  font-weight: 700;
  font-size: 22px;
  text-align: center;
  padding: 24px 0px;
  color: var(--text-primary);

  img {
    width: 56px;
    height: 56px;
    vertical-align: middle;
    margin-right: 12px;
    filter: drop-shadow(var(--shadow-md));
  }
}

// 页脚样式
.footer {
  padding: 16px;
  background: var(--bg-secondary);
  border-top: 1px solid var(--border-light);
  border-radius: 0 0 16px 16px;

  span {
    padding: 8px 12px;
    border-radius: 10px;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 13px;
    color: var(--text-secondary);
    cursor: pointer;

    &:hover {
      background-color: var(--bg-tertiary);
      color: var(--primary-color);
      box-shadow: var(--shadow-sm);
    }

    i {
      margin-right: 4px;
    }
  }
}

// 操作按钮
button.action-button {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
  color: white;
  font-size: 16px;
  font-weight: 600;
  width: 100%;
  border: none;
  border-radius: 10px;
  margin: 0px;
  padding: 14px 20px;
  box-sizing: border-box;
  cursor: pointer;
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: var(--shadow-md);

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg), var(--shadow-glow);
  }

  &:active {
    transform: translateY(0);
    box-shadow: var(--shadow-sm);
  }

  &:focus {
    outline: none;
    box-shadow: var(--shadow-md), 0 0 0 3px rgba(var(--primary-rgb), 0.3);
  }
}

// 可选项样式
.selectable {
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;

  &:hover {
    color: var(--primary-color);
  }
}

// 间距工具类
.mr-10 {
  margin-right: 10px;
}

.stack-item {
  box-sizing: border-box;
  width: 100%;
  margin-bottom: 12px;
}

// 滑块样式
input[type='range'] {
  -webkit-appearance: none;
  width: 100%;
  height: 20px;
  background: transparent;
  border-radius: 9999px;
  outline: none;
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    background: var(--switch-thumb);
    border-radius: 9999px;
    cursor: pointer;
    box-shadow: var(--shadow-md);
    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
    border: 2px solid var(--primary-color);
    margin-top: -7px;

    &:hover {
      transform: scale(1.15);
      box-shadow: var(--shadow-lg), var(--shadow-glow);
    }

    &:active {
      transform: scale(0.95);
      box-shadow: var(--shadow-sm);
    }
  }

  &::-webkit-slider-runnable-track {
    height: 6px;
    background: linear-gradient(90deg, var(--primary-color) 0%, var(--primary-light) 100%);
    border-radius: 9999px;
  }

  &:focus::-webkit-slider-thumb {
    box-shadow: var(--shadow-lg), 0 0 0 4px rgba(var(--primary-rgb), 0.2);
  }
}

// 输入框样式
input[type='text'],
input[type='password'],
input[type='email'],
input[type='url'] {
  width: 100%;
  padding: 16px;
  font-size: 16px;
  color: var(--text-primary);
  background: var(--input-bg);
  border: 2px solid var(--input-border);
  border-radius: 10px;
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  box-sizing: border-box;

  &:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.1);
  }

  &::placeholder {
    color: var(--input-placeholder);
  }
}

// 选择器样式
select {
  appearance: none;
  padding: 12px 32px 12px 16px;
  font-size: 14px;
  color: var(--text-primary);
  background: var(--input-bg);
  border: 2px solid var(--input-border);
  border-radius: 10px;
  cursor: pointer;
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%235f6b7a' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;

  &:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.1);
  }

  &:hover {
    border-color: var(--primary-light);
  }

  option {
    background: var(--bg-primary);
    color: var(--text-primary);
  }
}

// 标签样式
.chip {
  display: inline-flex;
  align-items: center;
  padding: 4px 12px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-primary);
  background: var(--bg-secondary);
  border-radius: 9999px;
  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  gap: 4px;
  height: auto;
  line-height: 1.5;
  border: 1px solid var(--border-light);

  &:hover {
    background: var(--bg-tertiary);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
  }

  i {
    cursor: pointer;
    color: var(--text-muted);
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 14px;

    &:hover {
      color: var(--error-color);
      transform: scale(1.1);
    }
  }
}

// 警告文本
.warning-text {
  color: var(--error-color);
  font-weight: 600;
}

// 静音文本
.muted-color {
  color: var(--text-muted);
}

// 白色文字（在深色模式下调整为深色）
.white-text {
  color: var(--text-inverse);
}

// 导航栏样式覆盖
.navbar {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
  box-shadow: var(--shadow-md);
}
